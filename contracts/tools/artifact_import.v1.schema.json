{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "helixmcp:tool:artifact_import:v1",
  "title": "artifact_import input",
  "type": "object",
  "additionalProperties": false,
  "required": ["project_id", "source"],
  "properties": {
    "project_id": { "$ref": "helixmcp:common#/$defs/ProjectId" },
    "type_hint": { "$ref": "helixmcp:common#/$defs/ArtifactType" },
    "label": { "type": "string", "minLength": 1, "maxLength": 256 },
    "source": {
      "type": "object",
      "additionalProperties": false,
      "required": ["kind"],
      "properties": {
        "kind": { "type": "string", "enum": ["local_path", "inline_text"] },
        "path": { "type": "string", "minLength": 1 },
        "text": { "type": "string", "minLength": 0, "maxLength": 1048576 }
      },
      "allOf": [
        {
          "if": { "properties": { "kind": { "const": "local_path" } } },
          "then": { "required": ["path"] }
        },
        {
          "if": { "properties": { "kind": { "const": "inline_text" } } },
          "then": { "required": ["text"] }
        }
      ]
    }
  }
}

